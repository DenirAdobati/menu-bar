<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Menu digitale elegante per Beautr√¨">
    <meta name="theme-color" content="#f5f5f4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <title>Beautr√¨ - Menu</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              anthracite: '#333333',
              'apple-gray': '#F5F5F7',
              'brand-gold': '#D4AF37',
              'warm-bg': '#F2F0E9',
            },
            borderRadius: {
              'apple': '1.5rem',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              pop: {
                '0%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(1.2)' },
                '100%': { transform: 'scale(1)' },
              }
            },
            animation: {
              'fade-in': 'fadeIn 0.4s ease-out forwards',
              'pop': 'pop 0.3s ease-in-out',
            }
          },
        },
      }
    </script>
    <style>
      body {
        background-color: #f5f5f4;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overscroll-behavior-y: none; /* Prevent bounce effect on mobile */
      }
      
      * {
        -webkit-tap-highlight-color: transparent;
      }
      
      html {
        scroll-behavior: smooth;
      }

      /* Hide scrollbar */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none; 
        scrollbar-width: none;  
      }

      /* --- BACKGROUND PATTERNS (Unused but kept for reference) --- */
      
      /* Coffee: Dark Brown with Beans */
      .bg-coffee-pattern {
        background-color: #3E2723;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%235D4037' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3Cpath d='M30 10c-5 0-9 4-9 9 0 5 4 9 9 9s9-4 9-9-4-9-9-9zm0 16c-3 0-6-3-6-7 0-3 2-6 5-6s6 3 6 7-3 6-5 6z' opacity='0.3'/%3E%3Cpath d='M50 40c-5 0-9 4-9 9 0 5 4 9 9 9s9-4 9-9-4-9-9-9zm0 16c-3 0-6-3-6-7 0-3 2-6 5-6s6 3 6 7-3 6-5 6z' opacity='0.3'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }

      /* Tea: Hunter Green with Leaves */
      .bg-tea-pattern {
        background-color: #354F38;
        background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%238FB390' fill-opacity='0.2'%3E%3Cpath d='M20 2c0 0-2 8-8 8 6 0 8 8 8 8s2-8 8-8c-6 0-8-8-8-8z' transform='translate(0 2)'/%3E%3Cpath d='M20 2c0 0-2 8-8 8 6 0 8 8 8 8s2-8 8-8c-6 0-8-8-8-8z' transform='translate(20 20) rotate(90 10 10)'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }

      /* Infusion: Deep Berry with Fruit Circles */
      .bg-infusion-pattern {
        background-color: #6A2C3E; 
        background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239E5A6F' fill-opacity='0.3'%3E%3Ccircle cx='10' cy='10' r='3'/%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3Cpath d='M20 18c2-3 6-3 8 0s-3 6-8 0z' opacity='0.6'/%3E%3Ccircle cx='34' cy='6' r='4' opacity='0.4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0"
  }
}
</script>
</head>
<body class="bg-stone-100 text-anthracite selection:bg-brand-gold/20 min-h-screen pb-20 transition-colors duration-500">

    <!-- Sticky Header -->
    <div id="sticky-header" class="sticky top-0 z-50 transition-all duration-300 bg-transparent pt-8 pb-4">
        <div class="max-w-xl mx-auto px-6">
            
            <!-- Top Bar -->
            <header class="mb-4">
                <div class="flex items-start gap-3">
                   <div id="header-icon-container" class="transition-all duration-300 mt-1 shrink-0 hidden">
                       <!-- Injected by JS: Back Button shown on inner pages -->
                   </div>
                   <div class="flex-1">
                      <div id="header-subtitle" class="text-2xl font-light text-center text-anthracite leading-snug transition-all duration-300">
                        Ogni percorso da <span class="font-bold text-brand-gold">Beautr√¨</span> √® unico, come te.
                        <span class="block mt-4 text-base text-gray-500 font-normal leading-relaxed">Quale dettaglio renderebbe la tua esperienza di oggi <span class="text-brand-gold font-bold">indimenticabile</span>?</span>
                      </div>
                   </div>
                </div>
            </header>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-xl mx-auto px-6 space-y-8 min-h-[60vh] mt-2">
        <div id="menu-container" class="grid gap-6">
            <!-- Items injected by JS -->
        </div>
    </main>

    <!-- Footer -->
    <footer id="main-footer" class="mt-16 text-center opacity-40 pb-8 transition-opacity duration-300">
        <div class="flex items-center justify-center gap-3">
          <div class="h-px w-8 bg-gray-300 footer-line transition-colors"></div>
          <span class="text-[10px] font-semibold tracking-[0.2em] uppercase text-gray-500 footer-text transition-colors">Beautr√¨ Menu</span>
          <div class="h-px w-8 bg-gray-300 footer-line transition-colors"></div>
        </div>
    </footer>

    <!-- Application Logic -->
    <script>
        // --- DATA ---
        const CATEGORIES = [
            { id: 'coffee', label: 'Il caff√® della bellezza', symbol: '‚òï' },
            { id: 'tea', label: 'Rilassati con un buon t√® e scopri i nostri sapori unici', symbol: 'ü´ñ' },
            { id: 'infusion', label: 'Infusi e tisane per rilassarti e trovare benessere', symbol: 'üåø' },
            { id: 'sweet', label: 'Per addolcire la tua coccola', iconName: 'candy' },
        ];

        const MENU_ITEMS = [
            // Caffetteria
            { id: 'c1', categoryId: 'coffee', icon: '‚òï', name: 'Caff√®' },
            { id: 'c2', categoryId: 'coffee', icon: '‚òï', name: 'Caff√® lungo' },
            { id: 'c3', categoryId: 'coffee', icon: '‚òï', name: 'Caff√® corto' },
            { id: 'c4', categoryId: 'coffee', icon: 'üßä', name: 'Caff√® macchiato freddo' },
            { id: 'c5', categoryId: 'coffee', icon: 'üá∫üá∏', name: 'Caff√® americano' },
            { id: 'c6', categoryId: 'coffee', icon: 'üå∞', name: 'Caff√® con Nutella' },

            // Mondo T√®
            { id: 't1', categoryId: 'tea', icon: 'üçÇ', name: 'T√® Bianco', ingredients: 'con cannella' },
            { id: 't2', categoryId: 'tea', icon: 'ü´ñ', name: 'Rooibos', ingredients: 'con cannella' },
            { id: 't3', categoryId: 'tea', icon: 'üçã', name: 'T√® Verde', ingredients: 'al limone' },
            { id: 't5', categoryId: 'tea', icon: 'üåø', name: 'T√® Ecologico', ingredients: 'cannella, zenzero e cardamomo' },
            { id: 't6', categoryId: 'tea', icon: 'üî¥', name: 'T√® Rosso', ingredients: 'ibisco e kiwi' },
            { id: 't7', categoryId: 'tea', icon: '‚ú®', name: 'Rooibos Digestivo' },
            { id: 't8', categoryId: 'tea', icon: 'ü´ê', name: 'T√® Verde ai Frutti di Bosco', ingredients: 'fragola, ciliegie, lampone' },

            // Tisane & Infusi
            { id: 'i1', categoryId: 'infusion', icon: 'üßò', name: 'T√® Depurativo', ingredients: 'con cannella, anice e salvia' },
            { id: 'i2', categoryId: 'infusion', icon: 'üò¥', name: 'Infuso Rilassante', ingredients: 'lavanda, Melissa' },
            { id: 'i3', categoryId: 'infusion', icon: 'üç´', name: 'Tenero Brownie', ingredients: 'cacao' },
            { id: 'i4', categoryId: 'infusion', icon: 'üç™', name: 'Infuso Cacao', ingredients: 'cannella, zenzero' },
            { id: 'i5', categoryId: 'infusion', icon: 'üèùÔ∏è', name: 'Infuso Esotico', ingredients: 'ananas, mela, cocco, banana, lavanda, petali di rosa' },
            { id: 'i6', categoryId: 'infusion', icon: 'ü•ù', name: 'Infuso Kiwi & Fragola' },
            { id: 'i7', categoryId: 'infusion', icon: 'üíÜ', name: 'Infuso Benessere', ingredients: 'finocchio, comino, menta, rosmarino, tarassaco, Melissa, liquirizia' },
            { id: 'i8', categoryId: 'infusion', icon: 'ü•≠', name: 'Infuso Gelato di Mango', ingredients: 'ananas, carota, albicocca' },
            { id: 'i9', categoryId: 'infusion', icon: 'üçá', name: 'Infuso Uva & Mela', ingredients: 'arancia' },
            { id: 'i10', categoryId: 'infusion', icon: 'ü´ê', name: 'Infuso Frutti di Bosco', ingredients: 'ibisco, uva, mela, more, ciliegia, lampone, fragola' },
            { id: 'i11', categoryId: 'infusion', icon: 'üçé', name: 'Infuso Fresco Fruttato', ingredients: 'mela, menta, limone, papaya, arancia, kiwi' },

            // Dolcezza
            { id: 's1', categoryId: 'sweet', icon: 'ü•¢', name: 'Zucchero di Canna', ingredients: 'Integrale grezzo' },
            { id: 's2', categoryId: 'sweet', icon: 'üßÇ', name: 'Zucchero Bianco', ingredients: 'Classico raffinato' },
            { id: 's3', categoryId: 'sweet', icon: 'üçØ', name: 'Miele d‚ÄôAcacia', ingredients: 'Naturale e delicato' },
        ];

        // --- APP LOGIC ---
        const app = {
            state: {
                view: 'home', // 'home' or categoryId
                scrolled: false
            },

            init() {
                this.setupScrollListener();
                this.render();
            },

            setupScrollListener() {
                window.addEventListener('scroll', () => {
                    const isScrolled = window.scrollY > 20;
                    if (this.state.scrolled !== isScrolled) {
                        this.state.scrolled = isScrolled;
                        this.updateHeaderStyle();
                    }
                });
            },

            updateTheme() {
                const body = document.body;
                const footer = document.querySelector('#main-footer');
                const footerText = footer.querySelector('.footer-text');
                const footerLines = footer.querySelectorAll('.footer-line');

                // Reset all custom bg classes
                body.classList.remove('bg-coffee-pattern', 'bg-tea-pattern', 'bg-infusion-pattern', 'text-white');
                
                // Always use default light theme
                body.classList.add('bg-stone-100', 'text-anthracite');
                
                // Footer Base Styles
                footer.classList.remove('opacity-80');
                footer.classList.add('opacity-40');

                // Helper to set footer colors - Always light theme mode
                const setFooterColors = () => {
                     footerText.classList.add('text-gray-500');
                     footerText.classList.remove('text-white/60');
                     footerLines.forEach(l => {
                         l.classList.add('bg-gray-300');
                         l.classList.remove('bg-white/30');
                     });
                };
                
                setFooterColors();
            },

            updateHeaderStyle() {
                const header = document.getElementById('sticky-header');
                const subtitle = document.getElementById('header-subtitle');
                const view = this.state.view;
                const isHome = view === 'home';
                
                // Header background logic
                if (this.state.scrolled) {
                    header.classList.remove('bg-transparent', 'pt-8', 'pb-4');
                    // Always use standard glass effect on scroll
                    header.classList.add('bg-stone-100/95', 'backdrop-blur-md', 'shadow-sm', 'pt-4', 'pb-2');
                } else {
                    header.classList.add('bg-transparent', 'pt-8', 'pb-4');
                    header.classList.remove('bg-stone-100/95', 'backdrop-blur-md', 'shadow-sm', 'pt-4', 'pb-2');
                }

                // Subtitle visibility logic
                if (isHome) {
                    if (this.state.scrolled) {
                        subtitle.classList.add('opacity-0');
                        setTimeout(() => subtitle.classList.add('hidden'), 300);
                    } else {
                        subtitle.classList.remove('hidden');
                        setTimeout(() => subtitle.classList.remove('opacity-0'), 10);
                    }
                } else {
                    subtitle.classList.remove('hidden');
                    subtitle.classList.remove('opacity-0');
                }
            },

            setView(viewId) {
                this.state.view = viewId;
                window.scrollTo({ top: 0, behavior: 'smooth' });
                this.state.scrolled = false;
                this.render();
            },

            updateHeaderText() {
                const subtitle = document.getElementById('header-subtitle');
                const currentCategory = CATEGORIES.find(c => c.id === this.state.view);

                if (this.state.view === 'home') {
                    // Reset styling for Home
                    subtitle.className = "text-2xl font-light text-center leading-snug transition-all duration-300";
                    subtitle.innerHTML = `
                        Ogni percorso da <span class="font-bold text-brand-gold">Beautr√¨</span> √® unico, come te.
                        <span class="block mt-4 text-base text-gray-500 font-normal leading-relaxed">Quale dettaglio renderebbe la tua esperienza di oggi <span class="text-brand-gold font-bold">indimenticabile</span>?</span>
                    `;
                } else if (currentCategory) {
                    // Category Header (Pill Box)
                    subtitle.className = "transition-all duration-300 flex justify-start pl-2"; 
                    
                    subtitle.innerHTML = `
                        <div class="inline-flex items-center gap-3 px-5 py-2.5 bg-white border border-gray-100 shadow-[0_2px_15px_-4px_rgba(0,0,0,0.05)] rounded-2xl animate-fade-in">
                            <span class="text-2xl filter drop-shadow-sm leading-none">${currentCategory.symbol}</span>
                            <span class="text-lg font-bold text-anthracite tracking-tight leading-none pt-0.5">${currentCategory.label}</span>
                        </div>
                    `;
                }
            },

            render() {
                this.updateTheme(); // Apply background changes first
                this.updateHeaderText();
                this.updateHeaderStyle(); // Ensure header style is correct
                this.renderHeaderIcon();
                this.renderContent();
                lucide.createIcons();
            },

            renderHeaderIcon() {
                const container = document.getElementById('header-icon-container');
                if (this.state.view === 'home') {
                    container.innerHTML = '';
                    container.classList.add('hidden');
                } else {
                    container.classList.remove('hidden');
                    // Back button remains light (bg-gray-50) even on dark background for contrast
                    container.innerHTML = `
                        <button onclick="app.setView('home')" class="p-2.5 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors active:scale-95 flex items-center justify-center border border-gray-100/50">
                           <i data-lucide="chevron-left" class="w-5 h-5 text-anthracite"></i>
                        </button>
                    `;
                }
            },

            getCategoryStyle(id) {
                const baseContainer = 'bg-white shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1) border border-transparent';
                return {
                    container: baseContainer,
                    iconBox: 'bg-brand-gold/10 text-brand-gold ring-1 ring-brand-gold/20', 
                    iconColor: 'text-brand-gold'
                };
            },

            renderContent() {
                const container = document.getElementById('menu-container');
                container.innerHTML = '';

                if (this.state.view === 'home') {
                    // Home View
                    const mainCategories = CATEGORIES.filter(c => c.id !== 'sweet');
                    const gridDiv = document.createElement('div');
                    gridDiv.className = 'grid gap-5 animate-fade-in pt-4';
                    
                    mainCategories.forEach((cat, index) => {
                       const styles = this.getCategoryStyle(cat.id);
                       gridDiv.innerHTML += `
                           <button
                             onclick="app.setView('${cat.id}')"
                             class="group relative flex items-center justify-between p-5 rounded-apple ${styles.container} w-full text-left overflow-hidden active:scale-95 transition-transform"
                             style="animation-delay: ${index * 100}ms"
                           >
                             <div class="flex items-center gap-5 relative z-10 w-full">
                                <div class="w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${styles.iconBox}">
                                   <span class="text-3xl filter drop-shadow-sm leading-none">${cat.symbol}</span>
                                </div>
                                <div class="flex-1 px-2 text-center">
                                   <h3 class="text-lg font-semibold text-anthracite leading-snug transition-colors duration-300">${cat.label}</h3>
                                </div>
                                <div class="w-9 h-9 rounded-full bg-gray-50 flex items-center justify-center shrink-0 shadow-sm border border-gray-100">
                                    <i data-lucide="arrow-right" class="w-4 h-4 text-anthracite"></i>
                                </div>
                             </div>
                           </button>
                       `; 
                    });
                    container.appendChild(gridDiv);
                    
                } else {
                    // Category View
                    const items = MENU_ITEMS.filter(i => i.categoryId === this.state.view);

                    // Items Grid
                    const itemsGrid = document.createElement('div');
                    itemsGrid.className = 'grid gap-4 animate-fade-in pt-4';
                    itemsGrid.innerHTML = items.map(item => this.createCardHtml(item)).join('');
                    container.appendChild(itemsGrid);

                    // Sweet Section
                    const sweetCategory = CATEGORIES.find(c => c.id === 'sweet');
                    const sweetItems = MENU_ITEMS.filter(i => i.categoryId === 'sweet');
                    
                    const sweetBox = document.createElement('div');
                    // Sweet box is always white, creating good contrast on dark backgrounds
                    sweetBox.className = 'mt-12 bg-white border border-brand-gold/20 shadow-sm rounded-apple p-6 animate-fade-in relative overflow-hidden';
                    sweetBox.style.animationDelay = '200ms';
                    
                    let sweetHtml = `
                        <div class="absolute top-0 right-0 w-32 h-32 bg-brand-gold/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
                        <div class="flex items-center gap-3 mb-6 relative z-10">
                           <div class="p-2 bg-brand-gold/10 rounded-xl text-brand-gold">
                              <i data-lucide="candy" class="w-5 h-5"></i>
                           </div>
                           <h3 class="text-lg font-bold text-anthracite">
                             ${sweetCategory ? sweetCategory.label : 'Per addolcire la tua coccola'}
                           </h3>
                        </div>
                        <div class="grid gap-4 relative z-10">
                    `;
                    sweetHtml += sweetItems.map(item => this.createCardHtml(item, true)).join('');
                    sweetHtml += `</div>`;
                    
                    sweetBox.innerHTML = sweetHtml;
                    container.appendChild(sweetBox);
                }
            },

            createCardHtml(item, isSweet = false) {
                const bgClass = isSweet ? 'bg-white border-brand-gold/10' : 'bg-white border-gray-100';
                return `
                    <div class="group relative flex flex-col p-5 rounded-apple border shadow-[0_2px_10px_-2px_rgba(0,0,0,0.03)] transition-all duration-300 active:scale-[0.98] ${bgClass}">
                        <div class="flex justify-between items-start">
                            <div class="flex items-start gap-4">
                                <span class="text-3xl bg-gray-50/80 w-12 h-12 flex items-center justify-center rounded-2xl shrink-0">
                                    ${item.icon}
                                </span>
                                <div class="pt-0.5">
                                    <h3 class="text-base font-bold text-anthracite leading-tight mb-1 transition-colors">${item.name}</h3>
                                    ${item.ingredients ? 
                                        `<p class="text-sm text-gray-400 font-normal leading-relaxed">${item.ingredients}</p>` : 
                                        ''}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        };

        // Start App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

    </script>
</body>
</html>
